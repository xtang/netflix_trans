# Netflix 字幕翻译器

> 通过强大的 AI 实时翻译 Netflix 字幕，助您轻松跨越语言障碍！

**Netflix 字幕翻译器** 是一款浏览器扩展，旨在帮助 Netflix 用户更高效、更深入地理解视频内容。它利用先进的 AI 技术，通过右键菜单即时翻译字幕，并提供原文对照，帮助用户更好地学习语言和理解文化背景。

## 主要功能

* **即时右键翻译：** 在 Netflix 播放页面，选中字幕文本，点击右键菜单中的 “翻译字幕”，即可查看翻译结果。
* **AI 驱动的精准翻译：**  利用集成的 LLM API (支持 OpenAI, Anthropic, DeepSeek)，提供高质量、自然的翻译结果。
* **详细的分析信息：**  除了翻译结果，还会展示语法分析、词汇分析（包含发音）以及文化背景理解，帮助用户深入学习。
* **原文对照显示：**  翻译结果会同时显示原始字幕文本，方便对比学习。
* **可配置的翻译引擎：**  用户可以在选项页面选择不同的 LLM API 提供商 (OpenAI, Anthropic, DeepSeek)。
* **自定义目标语言：**  支持多种目标语言，包括简体中文、繁体中文、英语、西班牙语、日语、韩语、意大利语和法语。
* **翻译结果复制：**  提供一键复制翻译结果的功能。
* **简洁的 UI 展示：**  翻译结果以清晰的弹窗形式展示，方便阅读和操作。

## 安装

### Chrome

你可以手动安装：

1. 将仓库克隆到本地。
2. 在 Chrome 浏览器中输入 `chrome://extensions/` 并按回车。
4. 启用右上角的 **开发者模式** 开关。
5. 点击 **加载已解压的扩展程序**。
6. 选择源代码文件夹。

## 使用方法

0. 注意：请先设置 LLM 提供商相关配置。（见下文）
1. 安装 **Netflix 字幕翻译器** 后，打开 Netflix 并播放您想要观看的视频。
2. 确保 Netflix 播放器中已启用字幕。
3. 当出现您想要翻译的字幕时，**点击鼠标右键**，在弹出的菜单中选择 **“翻译字幕”**。
4. 翻译结果（包括原文、翻译、语法分析、词汇分析和文化背景理解）将会在页面上方的弹窗中显示。
5. 您可以点击弹窗右上角的 “关闭” 按钮关闭翻译结果，或者点击 “复制” 复制翻译文本。

## 配置选项

1. 在浏览器地址栏输入 `chrome://extensions/` 并按回车，找到 **Netflix 字幕翻译器**。
2. 点击 **详情** 按钮。
3. 找到并点击 **选项** （或者在扩展图标上右键选择 “选项”）。
4. 在选项页面，您可以进行以下配置：
    * **API 密钥：**  输入您的 OpenAI、Anthropic 或 DeepSeek 的 API 密钥。
    * **提供商：**  选择您想要使用的 LLM API 提供商（默认为 OpenAI）。
    * **目标语言：**  选择您希望将字幕翻译成的目标语言（默认为简体中文）。
5. 点击 **保存** 保存您的配置。

**注意：** 您需要拥有有效的 LLM API 密钥才能使用翻译功能。

## 技术细节

* **后台脚本 (`background.js`)：**
    * 监听右键菜单点击事件，并抓取选中的字幕文本。
    * 管理用户配置（API 密钥、提供商、目标语言）。
    * 构建发送给 LLM API 的 Prompt，包含详细的翻译和分析要求。
    * 使用 `llm-api-client.js` (需要用户自行实现或引入) 与 LLM API 进行通信。
    * 将翻译结果发送给内容脚本进行展示。
* **内容脚本 (`content.js`)：**
    * 当接收到来自后台脚本的翻译消息时，动态创建并显示包含翻译结果的 HTML 弹窗 (`subtitletran.html`)。
    * 提供关闭和复制翻译结果的功能。
    * 注入自定义 CSS (`subtitletran.css`) 来美化翻译结果展示。
* **选项页面 (`options.html`, `options.js`)：**
    * 提供用户配置 API 密钥、API URL、LLM 提供商和目标语言的界面。
    * 使用 `chrome.storage.sync` API 保存和加载用户配置。
* **LLM API 客户端 (`llm-api-client.js`)：**
    * 该模块负责与不同的 LLM API 进行交互，例如 OpenAI 的 API、Anthropic 的 API 等。您需要根据您选择的提供商实现或引入相应的库。

## 贡献

欢迎任何形式的贡献！您可以通过以下方式参与：

* **提交 Issue：**  如果您发现了 Bug 或者有新的功能建议，请提交 [Issue](https://github.com/xtang/netflix_trans/issues)。
* **提交 Pull Request：** 如果您想修复 Bug 或者添加新功能，请 Fork 这个仓库并提交 [Pull Request](https://github.com/xtang/netflix_trans/pulls)。
* **分享您的想法：**  在 [Issue](https://github.com/xtang/netflix_trans/issues) 中参与讨论。
* **帮助推广：**  将这个扩展分享给您的朋友和同事。

## 许可证

本项目使用 Apache 2.0 许可证。

**感谢您的使用和支持！**
